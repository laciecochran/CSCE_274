   1               		.file	"proj1.c"
   2               	__SP_H__ = 0x3e
   3               	__SP_L__ = 0x3d
   4               	__SREG__ = 0x3f
   5               	__tmp_reg__ = 0
   6               	__zero_reg__ = 1
   7               		.text
   8               	.Ltext0:
   9               		.cfi_sections	.debug_frame
  10               		.section	.text.startup,"ax",@progbits
  11               	.global	main
  13               	main:
  14               	.LFB0:
  15               		.file 1 "proj1.c"
   1:proj1.c       **** #include "timer.h"
   2:proj1.c       **** #include "cmod.h"
   3:proj1.c       **** #include "iroblib.h"
   4:proj1.c       **** #include "oi.h"
   5:proj1.c       **** #include <stdlib.h>
   6:proj1.c       **** 
   7:proj1.c       **** // Declare Global variables 
   8:proj1.c       **** 
   9:proj1.c       **** int main() {
  16               		.loc 1 9 0
  17               		.cfi_startproc
  18               	/* prologue: function */
  19               	/* frame size = 0 */
  20               	/* stack size = 0 */
  21               	.L__stack_usage = 0
  10:proj1.c       ****   // Set up Create and module
  11:proj1.c       ****   initializeCommandModule();
  22               		.loc 1 11 0
  23 0000 0E94 0000 		call initializeCommandModule
  24               	.LVL0:
  12:proj1.c       ****     
  13:proj1.c       ****   powerOnRobot();
  25               		.loc 1 13 0
  26 0004 0E94 0000 		call powerOnRobot
  27               	.LVL1:
  14:proj1.c       ****     // Is the Robot on
  15:proj1.c       ****   byteTx(CmdStart);
  28               		.loc 1 15 0
  29 0008 80E8      		ldi r24,lo8(-128)
  30 000a 0E94 0000 		call byteTx
  31               	.LVL2:
  16:proj1.c       ****     // Start the create
  17:proj1.c       ****   baud(Baud57600);
  32               		.loc 1 17 0
  33 000e 8AE0      		ldi r24,lo8(10)
  34 0010 0E94 0000 		call baud
  35               	.LVL3:
  18:proj1.c       ****     // Set the baud rate for the Create and Command Module
  19:proj1.c       ****   defineSongs();
  36               		.loc 1 19 0
  37 0014 0E94 0000 		call defineSongs
  38               	.LVL4:
  20:proj1.c       ****     // Define some songs so that we know the robot is on.
  21:proj1.c       ****   byteTx(CmdControl);
  39               		.loc 1 21 0
  40 0018 82E8      		ldi r24,lo8(-126)
  41 001a 0E94 0000 		call byteTx
  42               	.LVL5:
  22:proj1.c       ****     // Deprecated form of safe mode. I use it because it will
  23:proj1.c       ****     // turn of all LEDs, so it's essentially a reset.
  24:proj1.c       ****   byteTx(CmdFull);
  43               		.loc 1 24 0
  44 001e 84E8      		ldi r24,lo8(-124)
  45 0020 0E94 0000 		call byteTx
  46               	.LVL6:
  25:proj1.c       ****     // We are operating in FULL mode.
  26:proj1.c       **** 
  27:proj1.c       ****   // Setup
  28:proj1.c       ****   setupCMDLeds();
  47               		.loc 1 28 0
  48 0024 0E94 0000 		call setupCMDLeds
  49               	.LVL7:
  29:proj1.c       ****   
  30:proj1.c       ****   // CSCE 274 students: I would make sure the robot stops. 
  31:proj1.c       ****   //                    As a precaution for the robot and your grade.
  32:proj1.c       ****   stopCreate();
  50               		.loc 1 32 0
  51 0028 0E94 0000 		call stopCreate
  52               	.LVL8:
  33:proj1.c       ****   delayMs(20);
  53               		.loc 1 33 0
  54 002c 84E1      		ldi r24,lo8(20)
  55 002e 90E0      		ldi r25,0
  56 0030 0E94 0000 		call delayMs
  57               	.LVL9:
  34:proj1.c       **** 
  35:proj1.c       ****   // Play the reset song and wait while it plays.
  36:proj1.c       ****   byteTx(CmdPlay);
  58               		.loc 1 36 0
  59 0034 8DE8      		ldi r24,lo8(-115)
  60 0036 0E94 0000 		call byteTx
  61               	.LVL10:
  37:proj1.c       ****   byteTx(RESET_SONG);
  62               		.loc 1 37 0
  63 003a 80E0      		ldi r24,0
  64 003c 0E94 0000 		call byteTx
  65               	.LVL11:
  38:proj1.c       ****   delayMs(750);
  66               		.loc 1 38 0
  67 0040 8EEE      		ldi r24,lo8(-18)
  68 0042 92E0      		ldi r25,lo8(2)
  69 0044 0E94 0000 		call delayMs
  70               	.LVL12:
  39:proj1.c       **** 
  40:proj1.c       ****   // Turn the power button on to something.
  41:proj1.c       ****   powerLed(0); //green
  71               		.loc 1 41 0
  72 0048 80E0      		ldi r24,0
  73 004a 0E94 0000 		call powerLed
  74               	.LVL13:
  42:proj1.c       ****   //powerLed(255); //red
  43:proj1.c       **** 
  44:proj1.c       ****   // Initialize global variables
  45:proj1.c       ****   delayMs(100);
  75               		.loc 1 45 0
  76 004e 84E6      		ldi r24,lo8(100)
  77 0050 90E0      		ldi r25,0
  78 0052 0E94 0000 		call delayMs
  79               	.LVL14:
  46:proj1.c       **** 
  47:proj1.c       ****   PORTD &= ~(0x40);
  80               		.loc 1 47 0
  81 0056 5E98      		cbi 0xb,6
  48:proj1.c       ****   // Infinite operation loop
  49:proj1.c       ****   for(;;) {
  50:proj1.c       ****     // toggle command module Leds
  51:proj1.c       ****     if(ToggleCMDTimerCount  == 0){
  52:proj1.c       ****     	PORTD ^= (3 << 5);	
  82               		.loc 1 52 0
  83 0058 10E6      		ldi r17,lo8(96)
  53:proj1.c       ****     	ToggleCMDTimerCount = 1000;
  84               		.loc 1 53 0
  85 005a C8EE      		ldi r28,lo8(-24)
  86 005c D3E0      		ldi r29,lo8(3)
  87               	.L4:
  51:proj1.c       ****     if(ToggleCMDTimerCount  == 0){
  88               		.loc 1 51 0
  89 005e 8091 0000 		lds r24,ToggleCMDTimerCount
  90 0062 9091 0000 		lds r25,ToggleCMDTimerCount+1
  91 0066 892B      		or r24,r25
  92 0068 01F4      		brne .L2
  52:proj1.c       ****     	PORTD ^= (3 << 5);	
  93               		.loc 1 52 0
  94 006a 8BB1      		in r24,0xb
  95 006c 8127      		eor r24,r17
  96 006e 8BB9      		out 0xb,r24
  97               		.loc 1 53 0
  98 0070 D093 0000 		sts ToggleCMDTimerCount+1,r29
  99 0074 C093 0000 		sts ToggleCMDTimerCount,r28
 100               	.L2:
  54:proj1.c       ****     }
  55:proj1.c       ****     
  56:proj1.c       ****     bumperLedsNotif();
 101               		.loc 1 56 0
 102 0078 0E94 0000 		call bumperLedsNotif
 103               	.LVL15:
  57:proj1.c       **** 
  58:proj1.c       ****     //Problems executing drive commands
  59:proj1.c       ****     //drivePentagonCW();
  60:proj1.c       **** 
  61:proj1.c       ****     buttonDetect();
 104               		.loc 1 61 0
 105 007c 0E94 0000 		call buttonDetect
 106               	.LVL16:
  62:proj1.c       ****     //driveStraight(100, 100);
  63:proj1.c       ****     //delayMs(1000);
  64:proj1.c       ****     //stopCreate();
  65:proj1.c       ****     //delayMs(500);
  66:proj1.c       **** 
  67:proj1.c       ****     
  68:proj1.c       ****     if(UserButtonPressed) {
 107               		.loc 1 68 0
 108 0080 4C99      		sbic 0x9,4
 109 0082 00C0      		rjmp .L4
  69:proj1.c       ****       powerOffRobot();
 110               		.loc 1 69 0
 111 0084 0E94 0000 		call powerOffRobot
 112               	.LVL17:
  70:proj1.c       ****       exit(1);
 113               		.loc 1 70 0
 114 0088 81E0      		ldi r24,lo8(1)
 115 008a 90E0      		ldi r25,0
 116 008c 0E94 0000 		call exit
 117               	.LVL18:
 118               		.cfi_endproc
 119               	.LFE0:
 121               		.text
 122               	.Letext0:
 123               		.file 2 "/usr/lib/avr/include/stdint.h"
 124               		.file 3 "cmod.h"
 125               		.file 4 "iroblib.h"
 126               		.file 5 "timer.h"
 127               		.file 6 "/usr/lib/avr/include/stdlib.h"
DEFINED SYMBOLS
                            *ABS*:0000000000000000 proj1.c
     /tmp/cc7gJL7S.s:2      *ABS*:000000000000003e __SP_H__
     /tmp/cc7gJL7S.s:3      *ABS*:000000000000003d __SP_L__
     /tmp/cc7gJL7S.s:4      *ABS*:000000000000003f __SREG__
     /tmp/cc7gJL7S.s:5      *ABS*:0000000000000000 __tmp_reg__
     /tmp/cc7gJL7S.s:6      *ABS*:0000000000000001 __zero_reg__
     /tmp/cc7gJL7S.s:13     .text.startup:0000000000000000 main

UNDEFINED SYMBOLS
initializeCommandModule
powerOnRobot
byteTx
baud
defineSongs
setupCMDLeds
stopCreate
delayMs
powerLed
ToggleCMDTimerCount
bumperLedsNotif
buttonDetect
powerOffRobot
exit
